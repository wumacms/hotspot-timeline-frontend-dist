import{_ as G,r as u,c as x,w as z,o as H,u as K,a as i,b as D,d as e,e as U,f as M,F as f,g as k,h as E,v as O,i as w,t as l,n as c,j as W,k as J,l as X,m as Y,p as n,q as S}from"./index-dirXMvbh.js";const Z={class:"min-h-screen bg-gray-50"},Q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ee={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6"},te={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},oe={class:"flex flex-wrap gap-2"},se=["onClick"],ae={class:"flex items-center space-x-4"},re={class:"mb-8"},le={class:"flex justify-between items-center mb-4"},ie={class:"text-gray-600"},ne={class:"font-semibold"},de={key:0,class:"ml-2"},ce={class:"font-semibold"},ue={class:"flex items-center space-x-2"},pe={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},me=["onClick"],ge={class:"h-48 bg-gray-200 relative"},ve=["src","alt"],he={class:"absolute top-4 left-4"},ye={class:"p-6"},be={class:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2"},xe={class:"text-gray-600 mb-4 line-clamp-3"},fe={class:"flex items-center justify-between text-sm text-gray-500 mb-4"},ke={class:"flex items-center justify-between"},we=["onClick"],_e=["onClick"],Ce=["fill"],Ae={key:1,class:"space-y-4"},Be=["onClick"],Me={class:"flex flex-col md:flex-row"},je={class:"md:w-48 h-48 md:h-auto bg-gray-200 relative flex-shrink-0"},Ie=["src","alt"],$e={class:"absolute top-4 left-4"},Ve={class:"p-6 flex-1"},ze={class:"text-xl font-semibold text-gray-900 mb-2"},De={class:"text-gray-600 mb-4"},Ee={class:"flex flex-wrap items-center justify-between gap-4"},Se={class:"flex items-center space-x-4 text-sm text-gray-500"},Te={class:"flex items-center space-x-2"},Pe=["onClick"],Ne=["onClick"],qe=["fill"],Fe={key:2,class:"text-center py-12"},Le={key:0,class:"flex flex-col sm:flex-row items-center justify-between gap-4 py-4 border-t border-gray-200"},Re={class:"text-sm text-gray-600"},Ge={class:"flex items-center space-x-1"},He=["disabled"],Ke=["onClick"],Ue=["disabled"],Oe={class:"flex items-center space-x-2 text-sm"},We=["max"],y=9,Je={__name:"EventsView",setup(Xe){const _=K(),v=u("");u(!1);const h=u("grid"),C=u("updated"),d=u(""),r=u(1),p=u(1),A=u([]),T=u([{id:1,name:"科技",icon:"💻",count:23,bgColor:"bg-blue-100"},{id:2,name:"政治",icon:"🏛️",count:15,bgColor:"bg-red-100"},{id:3,name:"经济",icon:"💹",count:18,bgColor:"bg-green-100"},{id:4,name:"社会",icon:"👥",count:32,bgColor:"bg-yellow-100"},{id:5,name:"娱乐",icon:"🎬",count:27,bgColor:"bg-purple-100"},{id:6,name:"体育",icon:"⚽",count:12,bgColor:"bg-orange-100"},{id:7,name:"国际",icon:"🌍",count:21,bgColor:"bg-indigo-100"},{id:8,name:"其他",icon:"📰",count:8,bgColor:"bg-gray-100"}]),P=[{id:1,title:"人工智能技术发展历程与重大突破",description:"从图灵测试到ChatGPT，回顾人工智能领域的关键技术突破和发展历程",category:"科技",coverImage:"https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400",timelineCount:45,updatedAt:"2024-01-15",createdAt:"2023-12-01",isBookmarked:!1,popularity:95},{id:2,title:"全球气候变化谈判关键节点",description:"从京都议定书到巴黎协定，梳理全球气候治理的重要里程碑事件",category:"国际",coverImage:"https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?w=400",timelineCount:32,updatedAt:"2024-01-12",createdAt:"2023-11-20",isBookmarked:!0,popularity:87},{id:3,title:"新冠疫情全球大流行时间线",description:"记录新冠疫情从发现到全球传播，再到疫苗接种的关键时间节点",category:"社会",coverImage:"https://images.unsplash.com/photo-1584036561566-baf8f5f1b144?w=400",timelineCount:67,updatedAt:"2024-01-10",createdAt:"2023-10-15",isBookmarked:!1,popularity:92},{id:4,title:"数字货币发展与监管历程",description:"从比特币诞生到全球各国对数字货币的监管政策演变",category:"经济",coverImage:"https://images.unsplash.com/photo-1622630998477-20aa696ecb05?w=400",timelineCount:28,updatedAt:"2024-01-08",createdAt:"2023-11-05",isBookmarked:!1,popularity:78},{id:5,title:"奥运会历史与重要时刻",description:"回顾现代奥运会从1896年至今的精彩瞬间和历史性时刻",category:"体育",coverImage:"https://images.unsplash.com/photo-1461896836934-ffe607ba8211?w=400",timelineCount:54,updatedAt:"2024-01-05",createdAt:"2023-09-30",isBookmarked:!0,popularity:85},{id:6,title:"电影技术发展里程碑",description:"从无声电影到数字特效，探索电影制作技术的重大突破",category:"娱乐",coverImage:"https://images.unsplash.com/photo-1695331453422-4388acbc0608?w=400",timelineCount:36,updatedAt:"2024-01-03",createdAt:"2023-10-20",isBookmarked:!1,popularity:72},{id:7,title:"美国大选历史关键节点",description:"梳理美国总统选举制度演变和历次重要选举的关键时刻",category:"政治",coverImage:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400",timelineCount:41,updatedAt:"2024-01-01",createdAt:"2023-11-15",isBookmarked:!1,popularity:88},{id:8,title:"太空探索重大突破时间线",description:"从第一颗人造卫星到火星探测，记录人类太空探索的重要成就",category:"科技",coverImage:"https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=400",timelineCount:39,updatedAt:"2023-12-28",createdAt:"2023-10-10",isBookmarked:!0,popularity:91},{id:9,title:"全球贸易体系演变",description:"从GATT到WTO，分析全球多边贸易体系的发展历程",category:"经济",coverImage:"https://images.unsplash.com/photo-1605792657660-596af9009e82?w=400",timelineCount:31,updatedAt:"2023-12-25",createdAt:"2023-09-25",isBookmarked:!1,popularity:76},{id:10,title:"互联网发展简史",description:"从ARPANET到5G时代，追溯互联网技术和应用的演进过程",category:"科技",coverImage:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=400",timelineCount:48,updatedAt:"2023-12-20",createdAt:"2023-08-15",isBookmarked:!1,popularity:94},{id:11,title:"女性权利运动里程碑",description:"记录全球女性争取平等权利的重要历史时刻和成就",category:"社会",coverImage:"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=400",timelineCount:29,updatedAt:"2023-12-18",createdAt:"2023-10-05",isBookmarked:!0,popularity:83},{id:12,title:"世界杯足球赛历史",description:"回顾历届世界杯的精彩比赛、传奇球员和重要规则变化",category:"体育",coverImage:"https://images.unsplash.com/photo-1572139332398-724fbaaa46a0?w=400",timelineCount:23,updatedAt:"2023-12-15",createdAt:"2023-09-20",isBookmarked:!1,popularity:79}],m=x(()=>{let s=[...A.value];if(v.value){const t=v.value.toLowerCase();s=s.filter(o=>o.title.toLowerCase().includes(t)||o.description.toLowerCase().includes(t))}switch(d.value&&(s=s.filter(t=>t.category===d.value)),C.value){case"updated":s.sort((t,o)=>new Date(o.updatedAt)-new Date(t.updatedAt));break;case"created":s.sort((t,o)=>new Date(o.createdAt)-new Date(t.createdAt));break;case"title":s.sort((t,o)=>t.title.localeCompare(o.title));break;case"popular":s.sort((t,o)=>o.popularity-t.popularity);break}return s}),j=x(()=>{const s=(r.value-1)*y;return m.value.slice(s,s+y)}),g=x(()=>Math.ceil(m.value.length/y)),N=x(()=>{const s=[],t=g.value,o=r.value;if(t<=7)for(let a=1;a<=t;a++)s.push(a);else if(o<=4){for(let a=1;a<=5;a++)s.push(a);s.push("..."),s.push(t)}else if(o>=t-3){s.push(1),s.push("...");for(let a=t-4;a<=t;a++)s.push(a)}else{s.push(1),s.push("...");for(let a=o-1;a<=o+1;a++)s.push(a);s.push("..."),s.push(t)}return s}),q=()=>{r.value=1},b=s=>{_.push(`/event/${s}`)},I=s=>{const t=A.value.find(o=>o.id===s);t&&(t.isBookmarked=!t.isBookmarked)},F=s=>{d.value===s?d.value="":d.value=s,r.value=1},L=s=>d.value===s,R=()=>{d.value="",v.value="",r.value=1},$=()=>{p.value>=1&&p.value<=g.value&&(r.value=p.value)},B=s=>({科技:"bg-blue-100 text-blue-800",政治:"bg-red-100 text-red-800",经济:"bg-green-100 text-green-800",社会:"bg-yellow-100 text-yellow-800",娱乐:"bg-purple-100 text-purple-800",体育:"bg-orange-100 text-orange-800",国际:"bg-indigo-100 text-indigo-800"})[s]||"bg-gray-100 text-gray-800",V=s=>new Date(s).toLocaleDateString("zh-CN");return z(()=>_.currentRoute.value.query,s=>{s.search&&(v.value=s.search),s.category&&(d.value=s.category)}),z(r,s=>{p.value=s}),H(()=>{A.value=P;const s=_.currentRoute.value.query;s.search&&(v.value=s.search),s.category&&(d.value=s.category),p.value=r.value}),(s,t)=>(n(),i("div",Z,[D(U,{showSearch:!0,onSearch:q}),e("main",Q,[t[22]||(t[22]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"所有事件"),e("p",{class:"text-gray-600"},"探索我们收录的所有热点事件及其时间线")],-1)),e("div",ee,[e("div",te,[e("div",oe,[(n(!0),i(f,null,k(T.value,o=>(n(),i("button",{key:o.id,onClick:a=>F(o.name),class:c(["px-3 py-1.5 rounded-full text-sm font-medium transition-colors",L(o.name)?B(o.name):"bg-gray-100 text-gray-700 hover:bg-gray-200"])},l(o.name),11,se))),128))]),e("div",ae,[t[7]||(t[7]=e("span",{class:"text-sm text-gray-600"},"排序:",-1)),E(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>C.value=o),class:"border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent"},[...t[6]||(t[6]=[e("option",{value:"updated"},"最新更新",-1),e("option",{value:"created"},"创建时间",-1),e("option",{value:"title"},"标题",-1),e("option",{value:"popular"},"最受欢迎",-1)])],512),[[O,C.value]])])])]),e("div",re,[e("div",le,[e("p",ie,[t[10]||(t[10]=w(" 找到 ",-1)),e("span",ne,l(m.value.length),1),t[11]||(t[11]=w(" 个事件 ",-1)),d.value?(n(),i("span",de,[t[8]||(t[8]=w(" (筛选: ",-1)),e("span",ce,l(d.value),1),t[9]||(t[9]=w(") ",-1))])):M("",!0)]),e("div",ue,[e("button",{onClick:t[1]||(t[1]=o=>h.value="grid"),class:c(["p-2 rounded-lg transition-colors",h.value==="grid"?"bg-primary-100 text-primary-600":"text-gray-500 hover:bg-gray-100"])},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:t[2]||(t[2]=o=>h.value="list"),class:c(["p-2 rounded-lg transition-colors",h.value==="list"?"bg-primary-100 text-primary-600":"text-gray-500 hover:bg-gray-100"])},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])],2)])]),h.value==="grid"?(n(),i("div",pe,[(n(!0),i(f,null,k(j.value,o=>(n(),i("div",{key:o.id,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow timeline-item cursor-pointer",onClick:a=>b(o.id)},[e("div",ge,[e("img",{src:o.coverImage,alt:o.title,class:"w-full h-full object-cover"},null,8,ve),e("div",he,[e("span",{class:c(["px-3 py-1 rounded-full text-sm font-medium",B(o.category)])},l(o.category),3)])]),e("div",ye,[e("h3",be,l(o.title),1),e("p",xe,l(o.description),1),e("div",fe,[e("span",null,l(o.timelineCount)+" 个时间节点",1),e("span",null,l(V(o.updatedAt)),1)]),e("div",ke,[e("button",{onClick:a=>b(o.id),class:"bg-primary-500 text-gray-400 pe-4 py-2 rounded-lg hover:bg-primary-600 transition-colors font-medium cursor-pointer"}," 查看时间线 ",8,we),e("button",{onClick:S(a=>I(o.id),["stop"]),class:c(["p-2 text-gray-400 hover:text-yellow-500 transition-colors",{"text-yellow-500":o.isBookmarked}])},[(n(),i("svg",{class:"w-5 h-5",fill:o.isBookmarked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)])],8,Ce))],10,_e)])])],8,me))),128))])):(n(),i("div",Ae,[(n(!0),i(f,null,k(j.value,o=>(n(),i("div",{key:o.id,class:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:a=>b(o.id)},[e("div",Me,[e("div",je,[e("img",{src:o.coverImage,alt:o.title,class:"w-full h-full object-cover"},null,8,Ie),e("div",$e,[e("span",{class:c(["px-3 py-1 rounded-full text-sm font-medium",B(o.category)])},l(o.category),3)])]),e("div",Ve,[e("h3",ze,l(o.title),1),e("p",De,l(o.description),1),e("div",Ee,[e("div",Se,[e("span",null,l(o.timelineCount)+" 个时间节点",1),t[15]||(t[15]=e("span",null,"•",-1)),e("span",null,"更新于 "+l(V(o.updatedAt)),1)]),e("div",Te,[e("button",{onClick:a=>b(o.id),class:"bg-primary-500 text-gray-400 pe-4 py-2 rounded-lg hover:bg-primary-600 transition-colors font-medium cursor-pointer"}," 查看时间线 ",8,Pe),e("button",{onClick:S(a=>I(o.id),["stop"]),class:c(["p-2 text-gray-400 hover:text-yellow-500 transition-colors",{"text-yellow-500":o.isBookmarked}])},[(n(),i("svg",{class:"w-5 h-5",fill:o.isBookmarked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[16]||(t[16]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)])],8,qe))],10,Ne)])])])])],8,Be))),128))])),m.value.length===0?(n(),i("div",Fe,[t[17]||(t[17]=W('<div class="w-24 h-24 mx-auto mb-4 text-gray-300" data-v-b250bf36><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b250bf36><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-b250bf36></path></svg></div><h3 class="text-lg font-medium text-gray-900 mb-2" data-v-b250bf36>没有找到相关事件</h3><p class="text-gray-500 mb-6" data-v-b250bf36>尝试调整筛选条件或搜索关键词</p>',3)),e("button",{onClick:R,class:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors font-medium"}," 清除筛选条件 ")])):M("",!0)]),m.value.length>0&&g.value>1?(n(),i("div",Le,[e("div",Re," 显示第 "+l((r.value-1)*y+1)+" - "+l(Math.min(r.value*y,m.value.length))+" 条，共 "+l(m.value.length)+" 条结果 ",1),e("div",Ge,[e("button",{onClick:t[3]||(t[3]=o=>r.value=Math.max(1,r.value-1)),disabled:r.value===1,class:c(["p-2.5 rounded-lg transition-all duration-200 flex items-center space-x-1",r.value===1?"text-gray-400 cursor-not-allowed opacity-60":"text-gray-700 hover:bg-primary-50 hover:text-primary-600 hover:shadow-sm"])},[...t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),e("span",{class:"text-sm font-medium hidden sm:inline"},"上一页",-1)])],10,He),(n(!0),i(f,null,k(N.value,o=>(n(),i("button",{key:o,onClick:a=>o!=="..."&&(r.value=o),class:c(["min-w-[40px] h-10 px-3 rounded-lg transition-all duration-200 font-medium text-sm flex items-center justify-center",o===r.value?"bg-primary-500 text-gray-400 shadow-sm":o==="..."?"text-gray-500 cursor-default":"text-gray-700 hover:bg-primary-50 hover:text-primary-600"])},l(o),11,Ke))),128)),e("button",{onClick:t[4]||(t[4]=o=>r.value=Math.min(g.value,r.value+1)),disabled:r.value===g.value,class:c(["p-2.5 rounded-lg transition-all duration-200 flex items-center space-x-1",r.value===g.value?"text-gray-400 cursor-not-allowed opacity-60":"text-gray-700 hover:bg-primary-50 hover:text-primary-600 hover:shadow-sm"])},[...t[19]||(t[19]=[e("span",{class:"text-sm font-medium hidden sm:inline"},"下一页",-1),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,Ue)]),e("div",Oe,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"跳至",-1)),E(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o),type:"number",min:"1",max:g.value,class:"w-16 px-2 py-1.5 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-primary-500 focus:border-transparent",onKeyup:X($,["enter"])},null,40,We),[[J,p.value,void 0,{number:!0}]]),t[21]||(t[21]=e("span",{class:"text-gray-600"},"页",-1)),e("button",{onClick:$,class:"px-3 py-1.5 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors font-medium"}," 确定 ")])])):M("",!0)]),D(Y)]))}},Ze=G(Je,[["__scopeId","data-v-b250bf36"]]);export{Ze as default};
